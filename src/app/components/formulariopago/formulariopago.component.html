<div class="container mt-5">
  <!-- ENCABEZADO -->
  <div class="text-center p-3 bg-secondary text-white rounded shadow mb-4 fade-in">
    <img src="/assets/img/monedachuche.jpg" class="mb-2 rounded-4" width="100" height="100" alt="Logo chuche">
    <h2 class="fw-bold">Resumen de tu pedido 🍬</h2>
  </div>

  <!-- PRODUCTOS EN CARRITO -->
  <div class="mb-5 fade-in">
    <h4 class="fw-bold text-danger">Productos en tu carrito:</h4>
    <ul class="list-group mb-3" *ngIf="productos.length > 0; else sinProductos">
      <li *ngFor="let producto of productos; let i = index" class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <h6 class="my-0">{{ producto.nombre }}</h6>
          <small class="text-muted">{{ producto.descripcion }}</small>
        </div>
        <div class="d-flex align-items-center gap-2">
          <span class="text-muted">{{ producto.precio | currency:'EUR' }}</span>
          <button class="btn btn-sm btn-outline-danger" (click)="eliminarProducto(i)">Eliminar</button>
        </div>
      </li>
      <li class="list-group-item d-flex justify-content-between">
        <strong>Total</strong>
        <strong>{{ total | currency:'EUR' }}</strong>
      </li>
    </ul>
    <ng-template #sinProductos>
      <p>No hay productos en tu carrito.</p>
    </ng-template>
  </div>

  <!-- FORMULARIO DE DATOS -->
  <div class="row justify-content-center fade-in">
    <div class="col-md-10">
      <form class="p-4 bg-formulario rounded shadow needs-validation" novalidate>
        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label fw-bold text-danger">Nombre</label>
            <input type="text" class="form-control" required>
          </div>
          <div class="col-md-6">
            <label class="form-label fw-bold text-danger">Apellidos</label>
            <input type="text" class="form-control" required>
          </div>
          <div class="col-md-12">
            <label class="form-label fw-bold text-danger">Usuario</label>
            <div class="input-group">
              <span class="input-group-text">User</span>
              <input type="text" class="form-control" required>
            </div>
          </div>
          <div class="col-md-12">
            <label class="form-label fw-bold text-danger">Correo electrónico</label>
            <input type="email" class="form-control">
          </div>
          <div class="col-md-12">
            <label class="form-label fw-bold text-danger">Dirección</label>
            <input type="text" class="form-control" required>
          </div>
          <div class="col-md-12">
            <label class="form-label fw-bold text-danger">Dirección (2)</label>
            <input type="text" class="form-control">
          </div>
          <div class="col-md-6">
            <label class="form-label fw-bold text-danger">País</label>
            <select class="form-select" required>
              <option value="">Selecciona...</option>
              <option>España</option>
              <option>Perú</option>
              <option>Colombia</option>
            </select>
          </div>
          <div class="col-md-6">
            <label class="form-label fw-bold text-danger">Código postal</label>
            <input type="text" class="form-control" required>
          </div>
        </div>

        <hr class="my-4">

        <div class="form-check">
          <input type="checkbox" class="form-check-input" id="same-address">
          <label class="form-check-label" for="same-address">La dirección es la misma que la del pago</label>
        </div>
        <div class="form-check mb-4">
          <input type="checkbox" class="form-check-input" id="save-info">
          <label class="form-check-label" for="save-info">Guardar información</label>
        </div>

        <h4 class="fw-bold text-danger">Datos de pago:</h4>

        <div class="my-3">
          <div class="form-check">
            <input id="credit" name="paymentMethod" type="radio" class="form-check-input" checked required>
            <label class="form-check-label" for="credit">Tarjeta de crédito</label>
          </div>
          <div class="form-check">
            <input id="debit" name="paymentMethod" type="radio" class="form-check-input" required>
            <label class="form-check-label" for="debit">Tarjeta de débito</label>
          </div>
          <div class="form-check">
            <input id="paypal" name="paymentMethod" type="radio" class="form-check-input" required>
            <label class="form-check-label" for="paypal">PayPal</label>
          </div>
        </div>

        <div class="row gy-3">
          <div class="col-md-6">
            <label class="form-label fw-bold text-danger">Nombre en la tarjeta</label>
            <input type="text" class="form-control" required>
          </div>
          <div class="col-md-6">
            <label class="form-label fw-bold text-danger">Número de la tarjeta</label>
            <input type="text" class="form-control" required>
          </div>
          <div class="col-md-3">
            <label class="form-label fw-bold text-danger">Caducidad</label>
            <input type="text" class="form-control" required>
          </div>
          <div class="col-md-3">
            <label class="form-label fw-bold text-danger">CVV</label>
            <input type="text" class="form-control" required>
          </div>
        </div>

        <button class="btn bg-white btn-lg w-100 mt-4" type="submit">COMPRAR 🍭</button>
      </form>
    </div>
  </div>
</div>
